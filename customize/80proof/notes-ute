----
ute: 
----

Invalid type ACCUSATIVE
Unifications specified are invalid or do not unify
Type ACCUSATIVE-LEX-RULE has an invalid constraint specification
Invalid type NOMINATIVE
Unifications specified are invalid or do not unify
Type NOMINATIVE-LEX-RULE has an invalid constraint specification
Error: Problems in type file

Repairs:

Changed all instances of "nominative" to "nom" in choices
file, and all instances of "accusative" to "acc".  Then used
off-line customization system to create grammar.

Next problem:

Error in MOM-SUFFIX-MARKER-LEX-RULE:
  Unification with constraint of TAM failed at path (SYNSEM
                                                     LOCAL
                                                     CONT
                                                     HOOK
                                                     INDEX
                                                     E)

Repairs:

Changed this:

    verb-slot6_morph1_orth=-ku
      verb-slot6_morph1_feat1_name=aspect
      verb-slot6_morph1_feat1_value=mom-plus
      verb-slot6_morph1_feat1_head=verb

to this:

    verb-slot6_morph1_orth=-ku
      verb-slot6_morph1_feat1_name=situation
      verb-slot6_morph1_feat1_value=mom-plus
      verb-slot6_morph1_feat1_head=verb

Next problem:

Undefined wild card `?I' in NON-SINGULAR-SUFFIX
Undefined wild card `?M' in NON-SINGULAR-SUFFIX
Undefined wild card `?I' in NON-SINGULAR-SUFFIX
Nothing following character set character '?' in NON-SINGULAR-SUFFIX
Error: no valid morphological patterns in NON-SINGULAR-SUFFIX: rule-ignored
Undefined wild card `?A' in PLURAL-SUFFIX
Undefined wild card `?M' in PLURAL-SUFFIX
Undefined wild card `?I' in PLURAL-SUFFIX
Nothing following character set character '?' in PLURAL-SUFFIX
Error: no valid morphological patterns in PLURAL-SUFFIX: rule-ignored
Undefined wild card `?A' in PERFECTIVE-MARKER-SUFFIX
Undefined wild card `?K' in PERFECTIVE-MARKER-SUFFIX
Undefined wild card `?U' in PERFECTIVE-MARKER-SUFFIX
Nothing following character set character '?' in PERFECTIVE-MARKER-SUFFIX
Error: no valid morphological patterns in PERFECTIVE-MARKER-SUFFIX: rule-ignored
Undefined wild card `?I' in NEG-SUFFIX-SUFFIX
Nothing following character set character '?' in NEG-SUFFIX-SUFFIX
Error: no valid morphological patterns in NEG-SUFFIX-SUFFIX: rule-ignored

Repairs:

Replaced ? with 7 in choices and test suite file.  Grammar
loads!

Results:

Coverage: 10/27 positive examples, 37%
Overgeneration: 3/30 negative examples, 10%
Error: Unanalyzed lexical items in 26 examples

We might want to revine the NUMBER value for this example, if
the comment is accurate:

#Ex 24 illustrates agreement with a third person plural animate pronoun subject and a verb. For three or more, the suffix /-ka/ is added to verbs with both animate and inanimate subjects.  It precedes tense markers.  For animate subjects when /-ka/ is present the (non-sing) marker /-7um/ is optional.  Here it is given (Press 78).
Source: author
Vetted: f
Judgment: g
Phenomena: {agr,pn}
mam nukwikajI7Im
mamI nukwi-ka-jI-7um
3pl.anim.visible run-sev-pres-non.sing
'They are running.'

Also, the example isn't parsing because of the form of
the non.sing suffix, which (I believe) is this rule:

non-singular-suffix :=
%suffix (* -7Imi)
non-singular-lex-rule.

#Ex 25 illustrates agreement with a third person plural animate pronoun object and a verb. Verbs may optionally agree with their objects(Press 77).  "When the object of a verb is three or more a suffix /-tu/ is added, preceding tenses (ordered optionally before or after /-ka/, if there is one" (Press 78). 
Source: author
Vetted: f
Judgment: g
Phenomena: {agr,pn,tam}
nI mamI punitukaivI
nII mamI-a puni-tu-kai-vI
1sg 3pl.anim.visible-obl look-obj.pl-result-past
I saw them.

Similarly, we might want to adjust the NUMBER value for
-tu.  

Here (#25) the problem seems to be that the result lex rule
doesn't want the plural obj lex rule as an input.

Try removing this:

  verb-slot10_opt=on

That didn't work (same effect---clearly a bug in the slot code).
Try the other way around: make verb-slot10 optional, and then have
anything that selects for verb-slot10 and verb-slot8 only select
verb-slot10.  That gives this:

Type ASPECTUAL-MARKERS-LEX-RULE's constraint specification clashes with its parents'
Type MOM-SUFFIX-LEX-RULE's constraint specification clashes with its parents'
Type MOM-SUFFIX-MARKER-LEX-RULE's constraint specification clashes with its parents'
Type PERFECTIVE-MARKER-LEX-RULE's constraint specification clashes with its parents'
Type RESULTATIVE-LEX-RULE's constraint specification clashes with its parents'
Type RESULT-LEX-RULE's constraint specification clashes with its parents'

... because the -dtr types are all subtypes of avm, but this change
leads to rules that are infl-add-only-no-ccont-lex-rule, which somehow
gets [DTR word-or-lexrule].  What that isn't a problem more of the time
is puzzling to me just now.  I think the fix (in general) is to have
the -rule-dtr types inherit from word-or-lexrule.  But fixing that by
hand still doesn't solve the problem with #25.

I'm coming to the conclusion that #25 is hopeless with the current
system, but would be open to ideas from others!

#Ex 30 illustrates one of the perfectives "finish".  It is formed by adding /-ma7aku/.  It occurs with with /-vII/-past and the perfective enclitic /-caa/ (Press 68).
Source: author
Vetted: f
Judgment: g
Phenomena: {agr,pn}
maNaca nukwima7ak
maNa-caa nukwi-ma7aku
3sg.anim.visible-perf run-finish
'He/She has finished running.'

The trouble with #30 seems to be that there is
no affix -caa defined.  I can't tell from the
gloss what it's supposed to be, though.

#Ex 40 illustrates a grammatical negative sentence.  The negative is usually formed by adding a negative suffix (wa7i)to the main verb. The negative marker /kacu/ may also appear in the clause.  The negative does not occur with the present tense marker /-jI/, but it does occur with the past tense marker /-vII/. Here the optional negative marker /kac/ is also used.  /kac/ can appear almost anywhere in the sentence as long as the constraints on other morphemes are satisfied (Press 99).  There was no discussion about a difference in meaning when /kac/ was included.  The only comment was that it was often left out in colloquial speech.  In the book, it is classified as an adverb.
Source: author
Vetted: f
Judgment: g
Phenomena: {neg}
maN kac nukwivIIwa
maNa kac nukwi-vII-wa7i
3sg.anim.visible neg run-past-neg
'He/She did not run.'

Current negation library doesn't handle two-part negation (affix
and adverb together), so we'll miss this one.  Likewise #42.

#Ex 44 illustrates a grammatical yes/no question.  Yes-No questions are formed by adding the enclitic /-raa/ to the first word in the sentence.  Since this test suite does not model bound subjects, this means that the question enclitic will always attach to the subject in this test suite.  It is important to note that this is not truly always the case.  When attached pronouns are present, /-raa/ precedes them.  The past tense marker /-vII/ does not occur in questions (Press 85).
Source: author
Vetted: f
Judgment: g
Phenomena: {q}
aipacira puusi magaj 
aipaci-raa puusi-a maga-jI  
boy-ques cat-OBL gave-pres  
'Does/Did the boy give a cat7'

Unhandled question marking strategy.

#Ex 49 illustrates grammatical V coordination.  V coordination does not occur with finite verbs.  One of the verbs must take a subordinating suffix.  Press notes that the frequent use of /-su/ "too" may make the meaning more coordinate than subordinate.
Source: author
Vetted: f
Judgment: g
Phenomena: {coord}
maN nukwiga wi7ivIs
maNa nukwi-gai wi7i-vII-su
3sg.anim.visible run-sub fall-past-too
'He ran and fell.'

Unhandled coordination strategy.


#Ex 52 illustrates grammatical NP coordination.  There are two ways to coordinate NPs /-gajaa/ is used when the two NPs are not considered to have engaged int the action together.  This suffix also appears with just one NP. Press does not mention if three or more NPs can be coordinated.  The other suffix is used for "with."
Source: author
Vetted: f
Judgment: g
Phenomena: {coord}
ann Johni nInigaja punikaivI
anni Johni-a nII-a-gaja puni-kai-vII
Ann John-OBL 1sg-OBL-too look-result-past
Ann saw John and me.

#Ex 53 illustrates grammatical NP coordination.  There are two ways to coordinate NPs /-gajaa/.  This suffix also appears with just one NP.
Source: author
Vetted: f
Judgment: g
Phenomena: {coord}
ann johni nInigaja punikaivI
anni margareti uNa-gaja Johni-a puni-kai-vII
Ann Margaret John-OBL 1sg-OBL-too look-result-past
Ann and Margaret saw John.

We might be able to handle #52 and 53, by calling
them N coordination (so that we can use the affix
strategy), but this might be in accurate.  Something
is wrong in the glossing on #53.

#Ex 2 illustrates a grammatical sentence with SVO word order.
Source: author
Vetted: f
Judgment: g
Phenomena: {agr,word order, tam, c}
aipac punikaivI  puusi 
aipaci puni-kai-vII  puusi-a
boy  look-result-past cat.OBL
The boy saw the cat.

The customization system doesn't allow "SOV or SVO" as a possible
word order.

#Ex 13 illustrates a grammatical sentence where the plural subject combines with a verb that has a pronominal enclitic attached instead of the plural marker.
Source: author
Vetted: f
Judgment: g
Phenomena: {c,tam, agr}
mam nukwijI7um
mamI nukwi-jI-7ami
they run-pres-3pl
'They(two) are running.'

The problem here is that -jI can't attach directly to the
verb stem, so we get the zero non-plural rule first, which
is incompatible with the plural marker later.  Leaving this
one for Safiyyah, who hopefully has a better understanding
of this suffix system.


#Ex 19 illustrates agreement with a third person singular animate pronoun subject and a verb.
Source: author
Vetted: f
Judgment: g
Phenomena: {agr,pn}
in nukwij
ina nukwi-jI
3sg.anim.prox run-pres
'He/She is running.'

The grammar is analyzing this one as necessarily taking the inanimate
agreement marker (zero morph). Maybe what's really going on is
that there's a marked form which is only compatible with animates
and an unmarked form which is underspecified?  Try removing
this slot (and renaming slot10 slot9 throughout).

  verb-slot9_name=inanimate-subj-agreement
  verb-slot9_order=after
    verb-slot9_input1_type=verb-slot1
    verb-slot9_morph1_name=inanimate-subj-agreement-marker
      verb-slot9_morph1_feat1_name=gender
      verb-slot9_morph1_feat1_value=inanimate
      verb-slot9_morph1_feat1_head=subj

Just doing that leaves nukwi-jI as uninflected.  Try making
the slots that take slot1 (-jI) as input optional.

  verb-slot2_opt=on
  verb-slot7_opt=on


Coverage: 14/27 51.9%
Overgeneration: 5/30 16.7%
Error: 26

That saved 4 examples that weren't parsing before, but
added parses for 2 ungrammatical examples and made one
previously parsing example ambiguous.

One of the examples now parsing is this one:

#Ex 27 illustrates an ungrammatical use of the present tense for a [-mom] verb.  Press classifies verbs by a feature she calls momentaneous.  Verbs can be [-mom] "nukwi-run", [+mom] "tIrawi7i-dash off", or can take either aspectual meaning [*mom] "kwIhI-catch."  This feature constrains the tense/aspect suffixes that can attach to a verb.  The present tense suffix /-jI/ cannot attach to  [- mom] verbs.  Instead they take a zero suffix for present tense.  For [- mom] verbs the present tense suffix /-ji/ must be used for present tense, they cannot take the zero present tense marker (Press 64).
Source: author
Vetted: f
Judgment: u
Phenomena: {agr,pn}
maN nukwi
maNa nukwi
3sg.anim.visible run.pres
'He/She is running.'

I can't understand the comment, though, regarding whether
this is supposed to have -ji, -jI, or -0 as a tense
marking suffix.

Here is other new overgeneration example:

#Ex 33 illustrates an ungrammatical use of one of the perfectives "finish".  It is formed by adding /-ma7aku/.  It occurs with with /-vII/-past and the perfective enclitic /-caa/ (Press 68). Here neither the perfective enclitic /-caa/ nor the past /-vII/ is used.
Source: author
Vetted: f
Judgment: u
Phenomena: {agr,pn}
maN nukwima7ak
maNa nukwi-ma7aku
3sg.anim.visible run-finish
'He/She finished running.'

-caa is not defined.  -vII is slot1, which can take 4, 5, 8
or 9 as input. -ma7aku is slot 5, and marked optional. In the
parse, the example is going through the nom-mom-pres-lex rule,
which is also slot1.  So something should make non-mom-pres-lex
and -ma7aku incompatible. 

The extra parse for an ungrammatical example is this one:

#Ex 23 illustrates agreement with a third person plural animate pronoun subject and a verb. For three or more, the suffix /-ka/ is added to verbs with both animate and inanimate subjects.  It precedes tense markers.  For animate subjects when /-ka/ is present the (non-sing) marker /-7um/ is optional.  Here it is not given (Press 78).
Source: author
Vetted: f
Judgment: g
Phenomena: {agr,pn}
mam nukwikaj
mamI nukwi-ka-jI
3pl.anim.visible run-several-pres
'They are running.'

And the culprit is apparently this morpheme:

    verb-slot2_morph3_name=underspecified
      verb-slot2_morph3_feat1_name=number
      verb-slot2_morph3_feat1_value=non-dual
      verb-slot2_morph3_feat1_head=subj
      verb-slot2_morph3_feat2_name=gender
      verb-slot2_morph3_feat2_value=animate
      verb-slot2_morph3_feat2_head=subj

I'm not sure what this is doing.  If slot2 is obligatory
(which it isn't currently) then it needs a catch-all
option that will pass through anything not covered
by the other morphs.  If it's optional, it shouldn't
have any zero morphs in it.  Trying deleting 
that morph for now to see what happens. 

Taking that out reduced the spurious ambiguity, without
any other changes.

This one isn't parsing because no tense marker is attached.
I think a zero morpheme (perhaps restricted to a certain
verb type) is missing from the tense-marker slot, but I can't
really tell what's going on from the comment.

#Ex 28 illustrates a grammatical use of the present tense for a [+mom] verb.  Press classifies verbs by a feature she calls momentaneous.  Verbs can be [-mom] "nukwi-run", [+mom] "tIrawi7i-dash off", or can take either aspectual meaning [*mom] "kwIhI-catch."  This feature constrains the tense/aspect suffixes that can attach to a verb.  The present tense suffix /-jI/ cannot attach to  [- mom] verbs.  Instead they take a zero suffix for present tense.  For [- mom] verbs the present tense suffix /-ji/ must be used for present tense, they cannot take the zero present tense marker (Press 64).
Source: author
Vetted: f
Judgment: g
Phenomena: {agr,pn}
maN tIraqi
maNa tIraqi7i
3sg.anim.visible dash.off.pres
'He/She dashes off.'

The final grammatical example that is not parsing:

#Ex 34 illustrates a suffix that can be used to add [+mom] to (some) verbs.  There are different ways of making a verb [+mom]
Source: author
Vetted: f
Judgment: g
Phenomena: {agr,pn}
maN wI7ik
maNa wI7i-ku
3sg.anim.visible fall-mom.pres
'He/She falls.'

Here, the problem seems to be that the -ku rule is
ending up ltol, even though it is optional and not
the input for any other rule.  I think this is a bug
in the morphotactics code. A possible work-around is
to make it non-optional, and put a zero-morpheme in that
same slot with no effect.  I'll try that for now but
this is really not quite right :)

First attempt:

    verb-slot6_morph1_name=non-mom-zero-suffix
      verb-slot6_morph2_feat1_name=situation
      verb-slot6_morph2_feat1_value=mom-minus
      verb-slot6_morph2_feat1_head=verb

That doesn't help.  These two rules are still ltol,
which isn't the intended effect.

Back to overgeneration:

#Ex 9 illustrates an ungrammatical sentence where the singular animate subject is takes the non-singular marker /-7umi/ for animate nouns
Source: author
Vetted: f
Judgment: u
Phenomena: {agr}
aipac nukwijI7um
aipaci nukwi-jI-7Imi
boy.nom run-pres-non.sing
'The boy is running.'

The problem here is that there apparently aren't
any number rules for nouns. There's only one slot
for noun morphology, and it encodes case.  So aipaci
is just underspecified for number.  I'd define 
the slot, but I don't know where it goes, nor what
the plural morpheme looks like.

#Ex 11 illustrates an ungrammatical sentence where the inanimate subject takes the non-singular marker /-7umi/ for animate nouns.  This is used to mark two or more. Inanimate nouns are optionally marked for plurality do not combine with verbs that have the non-singular suffix.
Source: author
Vetted: f
Judgment: u
Phenomena: {agr}
wii nukwijI7um
wii nukwi-jI-7Imi
knife run-pres-non.sing
'The (two) knives are running.'

The problem here is the knife was in the same noun
class as boy and cat, and that noun class was not specified
for animacy.

Added the following:

  noun10_det=imp
    noun10_feat1_name=gender
    noun10_feat1_value=inanimate
    noun10_stem1_orth=wii
    noun10_stem1_pred=_knife_n_rel

    noun1_feat1_name=gender
    noun1_feat1_value=animate


Coverage: 14/27 51.9%
Overgeneration: 4/30 13.3%
Error: 26


SS-Ex 13 interactive unification works.  I am not sure why the sentence does not parse.  Will ask about this tomorrow. 

Ex 28-- does not parse because the verb is prevented from going through the zero marker present tense rule for [+mom] verbs.  The lexical rules were defined incorrectly.  Perhaps, because the explanation given in the test suite had the situation reversed. [+mom] verbs must take the zero present tense marker [-mom] must take -jI as the present tense marker.  I think the lexical rules have this reversed.  I updated the comment part of the chemehuevi.txt, the examples themselves were correct.  

I changed 

verb-slot1_morph3_feat1_value=mom-minus to
verb-slot1_morph3_feat1_value=mom-plus

The names of these lexical rules should be changed as well to reflect the correct mom values.

Coverage stayed the same 51.9%, but there were changes in the details.

Ex 28 now parses
Ex 27 used to parse and shouldn't have.  Now it does not.
Ex 33 used to parse and shouldn't have.  Now it does not
Ex 36 is not parsing now and it should.  This is an example of a negative sentence, before the verb nukwi was allowed to go through the zero-marker present tense rule when it shouldn't have.  Now that it isn't allowed to go through this rule, this example is not parsing.
Ex 48 now parses and it should (**Later on I realized that although this should parse it had been labeled as ungrammatical this was changed later on).

Coverage: 14/27 51.9%
Overgeneration: 10% 3/30
Errors: 26

Ex34 was not going through the tense rule, I added verb_slot6 as input for verb_slot1.

Coverage: 15/27 55.6%
Overgeneration : 3/20 10%

Ex34 is the additional sentence that parses, so that worked!

Ex36 was not going through the tense rule because "nukwi" is [+mom] and when unnegated must take the '-jI' marker for the present tense, but '-jI' is not allowed to occur with the negation marker.  I created a new lexical rule for tense on negated verbs

verb-slot10_name=neg-tense
  verb-slot10_order=after
    verb-slot10_input1_type=verb-slot9
    verb-slot10_input2_type=verb-slot8
    verb-slot10_input3_type=verb-slot4
    verb-slot10_input4_type=verb-slot5
    verb-slot10_input5_type=verb-slot6
    verb-slot10_morph1_name=neg-past
    verb-slot10_morph1_orth=-vII
      verb-slot10_morph1_feat1_name=tense
      verb-slot10_morph1_feat1_value=past
      verb-slot10_morph1_feat1_head=verb
    verb-slot10_morph2_name=neg-non-past

I also changed the input of verb_slot7 neg-marker to verb-slot10 and made verb-slot7 and 10 non-optional.

Coverage:59.3% 16/27
Overgeneration: 3/30 10%

On to the errors list. 

Ex24 was on the errors list because "-7um' had not been entered as lex rule.  I added it a subrule for more-animate-subj-agreement. Looking at the reference grammar again, I think that the two differen non-singular subrules are actually allophones.

Coverage increased by 1 to 17/27 63%
Overgeneration 3/30 10%

The detail report shows exactly one change--the expected one.  Nothing seems to have been broken.  

Ex25 there was an error in the test suite. The past tense morpheme is '-vII' and in this example one of the 'I's was left off and it was given as '-vI'.  I changed the test suite and item file.

This parses now.

Coverage 18/27 66.7%
Overgeneration 3/30 10%

The detail report shows only the expected change.

Ex 30 contains an enclitic "-caa"that attaches to the subject.  It co-occurs with the perfective marker.  This is probably not possible to get.

Per Emily's comments, I think that 52 and 53 are the only ones left to try for.
The names "anni, johni, and margeti" were not in the lexicon.  I added them.

53 is now off the error list, but still not parsing.  I think that 52 is still or the list because it the coordination suffix attaches after the case marker.

Even though 53 is off of the error list, I don't see how to get the semantics correct for this.

Overgeneration


Ex 9 was overgenerating because number was underspecified for aipaci.  I added number singular as a feature for this noun type.  It is still overgenerating.  Here is a problem with the zero morpheme rules. 

Exs 12 and 48 were mislabeled as ungrammatical.  They were meant to be grammatical examples.  I changed the test suite and the item file.

Coverage: 20/29 69%
Overgeneration: 1/28 3.6%

8/20/09 ASF

simplified number hierarchy: non-singular and non-plural have (appropriate) subtypes dual, singular and plural. #9 is no longer parsed.

made one noun-class out of two for "mamI": grammar does not suggest they are separate pronouns, but one that can be dual or plural (i.e. non-singular) removed ambiguity on examples 10 and 26.

removed empty non-plural marker from verbal-morphemes and made this slot optional. Example 13 is now parsed, but #12 no longer receives the right "number". Since the interpretation seems to be a 'default' interpretation we don't really handle, this seems the most appropriate thing to do at this point.

verbal morphology could be modified a lot, but I am leaving it the way it is for now.

added a suffix -caa and an empty suffix to nouns (not adding any features) example 52 now parses (30 still does not) mystery why 52 all of a sudden works, but I am not complaining :-). Also added a zero morpheme to the verb, combining with -caa nouns and adding perfective aspect. #30 parses now.

added suffix -gai "subordinate" and vp-coordination strategy. #49 now parses, but so does #50. In the end, this coordination strategy does not work: it is a choice between slighty less coverage and overgeneration.
Since it would not have worked at all, if it were a transitive vp, I am considering removing it again.

removed coordination -su and -gai again: it would not work for transitives, and does not work properly for intransitives either (overgeneration).

added 'present tense' to zero marker to correct MRS of #34 and #36.
This is all we can do.

Summary of observations:

#2: Chemehuevi allows two word orders, this option is not supported by the matrix yet.
#40,#42: form of negation not handled (modifier + affix)
#44: second position question-marker is not handled yet
#49: coordination of phrases marked by affixes + form restrictions on one of the coordinands (neither is supported, hence #50 fails for the wrong reasons).

Failing for wrong reasons:
#41,#43: fails for the same reason as grammatical #40 and #42.
#45: fails for same reason as #44, restrictions on TAM imposed by question markers are not supported yet.
#50,#51:fail because of lacking -su coordination: restrictions on finiteness cannot be imposed in coordination library.


FINAL EVALUATION:


3.4\%Coverage: 82.8%, Treebank coverage: 75.9%
Overgeneration: 0%, Correct Failures: 81.5%
Overall performance Ungrammatical examples: 81.5%
Spurious Ambiguity: 1 example with 2 parses.
Total number of examples: 56
Grammatical: 29
Ungrammatical: 28 - 1 (54 and 57 are identical) = 27

Phenomenon based analysis:
